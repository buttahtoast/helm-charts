suite: library/extras unit tests
tests:

  - it: "[Extras | Environment]: Timezone/Proxy Extras"
    templates:
      - extras/env.yaml
    set:
      global:
        timezone: "Europe/Zurich"
        proxy:
          httpProxy:
            host: "proxy.company.com"
            port: 8080
            protocol: "http"
          httpsProxy:
            host: "proxy.company.com"
            port: 8080
            protocol: "https"
          noProxy: 
            - localhost
            - 127.0.0.1
            - company.com
    asserts:
      - matchSnapshot: {}

  - it: "[Extras | Extra Resources]: Test List"
    templates:
      - extras/list.yaml
    set:
      extraResources:
        - apiVersion: v1
          kind: Pod
          metadata:
            name: nginx
          spec:
            containers:
            - name: nginx
              image: nginx:1.14.2
              ports:
              - containerPort: 80
        - apiVersion: v1
          kind: ConfigMap
          metadata:
            name: config-multi-env-files
            namespace: default
          data:
            allowed: '"true"'
            color: purple
            enemies: aliens
            how: fairlyNice
            lives: "3"
            textmode: "true"
    asserts:
      - matchSnapshot: {}